{"ast":null,"code":"import _regeneratorRuntime from\"/home/tmdev/Desktop/Final_Exam_Arman/react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/tmdev/Desktop/Final_Exam_Arman/react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/tmdev/Desktop/Final_Exam_Arman/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{DataTable}from\"primereact/datatable\";import{Column}from\"primereact/column\";import{Button}from\"primereact/button\";import\"primereact/resources/themes/lara-light-indigo/theme.css\";import\"primereact/resources/primereact.min.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UsersTable=function UsersTable(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredUsers=_useState4[0],setFilteredUsers=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchText=_useState6[0],setSearchText=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),sortField=_useState8[0],setSortField=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),sortOrder=_useState10[0],setSortOrder=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),currentPage=_useState12[0],setCurrentPage=_useState12[1];var _useState13=useState(5),_useState14=_slicedToArray(_useState13,1),usersPerPage=_useState14[0];var paginatorLeft=/*#__PURE__*/_jsx(Button,{type:\"button\",icon:\"pi pi-refresh\",text:true});var paginatorRight=/*#__PURE__*/_jsx(Button,{type:\"button\",icon:\"pi pi-download\",text:true});useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/users\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setUsers(data);setFilteredUsers(data);case 8:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var handleSearch=function handleSearch(event){var searchText=event.target.value.toLowerCase();setSearchText(searchText);filterUsers(searchText);setCurrentPage(1);};var handleSort=function handleSort(event){var _event$sort=event.sort,field=_event$sort.field,order=_event$sort.order;setSortField(field);setSortOrder(order);filterUsers(searchText,field,order);setCurrentPage(1);};var filterUsers=function filterUsers(searchText){var filteredData=users.filter(function(user){return user.name.toLowerCase().includes(searchText);});if(sortField){filteredData.sort(function(a,b){var valueA=a[sortField].toLowerCase();var valueB=b[sortField].toLowerCase();if(valueA<valueB){return sortOrder===1?-1:1;}if(valueA>valueB){return sortOrder===1?1:-1;}return 0;});}setFilteredUsers(filteredData);};return/*#__PURE__*/_jsxs(\"div\",{className:\"users-table\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"table\",children:\"User Table\"}),/*#__PURE__*/_jsxs(DataTable,{value:filteredUsers// Use currentUsers instead of filteredUsers\n,paginator:true,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:\"50rem\"},paginatorTemplate:\"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink\",currentPageReportTemplate:\"{first} to {last} of {totalRecords}\",paginatorLeft:paginatorLeft,paginatorRight:paginatorRight,children:[/*#__PURE__*/_jsx(Column,{sortable:true,style:{width:\"10%\"},field:\"id\",header:\"ID\",sortField:\"id\",sortOrder:sortField===\"id\"?sortOrder:null,onSort:handleSort}),/*#__PURE__*/_jsx(Column,{sortable:true,style:{width:\"30%\"},field:\"username\",header:\"Username\",sortField:\"username\",sortOrder:sortField===\"username\"?sortOrder:null,onSort:handleSort}),/*#__PURE__*/_jsx(Column,{sortable:true,style:{width:\"10%\"},field:\"name\",header:\"Name\",sortField:\"name\",sortOrder:sortField===\"name\"?sortOrder:null,onSort:handleSort}),/*#__PURE__*/_jsx(Column,{sortable:true,style:{width:\"15%\"},field:\"email\",header:\"Email\",sortField:\"email\",sortOrder:sortField===\"email\"?sortOrder:null,onSort:handleSort}),/*#__PURE__*/_jsx(Column,{sortable:true,style:{width:\"10%\"},field:\"status\",header:\"Status\"})]})]});};export default UsersTable;","map":{"version":3,"names":["React","useState","useEffect","DataTable","Column","Button","jsx","_jsx","jsxs","_jsxs","UsersTable","_useState","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","filteredUsers","setFilteredUsers","_useState5","_useState6","searchText","setSearchText","_useState7","_useState8","sortField","setSortField","_useState9","_useState10","sortOrder","setSortOrder","_useState11","_useState12","currentPage","setCurrentPage","_useState13","_useState14","usersPerPage","paginatorLeft","type","icon","text","paginatorRight","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","stop","apply","arguments","handleSearch","event","target","value","toLowerCase","filterUsers","handleSort","_event$sort","sort","field","order","filteredData","filter","user","name","includes","a","b","valueA","valueB","className","children","paginator","rows","rowsPerPageOptions","tableStyle","minWidth","paginatorTemplate","currentPageReportTemplate","sortable","style","width","header","onSort"],"sources":["/home/tmdev/Desktop/Final_Exam_Arman/react/src/UserTable/UserTable.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { Button } from \"primereact/button\";\nimport \"primereact/resources/themes/lara-light-indigo/theme.css\";\nimport \"primereact/resources/primereact.min.css\";\n\nconst UsersTable = () => {\n  const [users, setUsers] = useState([]);\n  const [filteredUsers, setFilteredUsers] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [sortField, setSortField] = useState(\"\");\n  const [sortOrder, setSortOrder] = useState(1);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [usersPerPage] = useState(5);\n\n  const paginatorLeft = <Button type=\"button\" icon=\"pi pi-refresh\" text />;\n  const paginatorRight = <Button type=\"button\" icon=\"pi pi-download\" text />;\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetch(\"/users\");\n      const data = await response.json();\n      setUsers(data);\n      setFilteredUsers(data);\n    };\n\n    fetchData();\n  }, []);\n\n  const handleSearch = (event) => {\n    const searchText = event.target.value.toLowerCase();\n    setSearchText(searchText);\n    filterUsers(searchText); \n    setCurrentPage(1);\n  };\n\n  const handleSort = (event) => {\n    const { field, order } = event.sort;\n    setSortField(field);\n    setSortOrder(order);\n    filterUsers(searchText, field, order);\n    setCurrentPage(1);\n  };\n\n  const filterUsers = (searchText) => {\n    let filteredData = users.filter((user) =>\n      user.name.toLowerCase().includes(searchText)\n    );\n\n    if (sortField) {\n      filteredData.sort((a, b) => {\n        const valueA = a[sortField].toLowerCase();\n        const valueB = b[sortField].toLowerCase();\n        if (valueA < valueB) {\n          return sortOrder === 1 ? -1 : 1;\n        }\n        if (valueA > valueB) {\n          return sortOrder === 1 ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n\n    setFilteredUsers(filteredData);\n  };\n\n  return (\n    <div className=\"users-table\">\n      <h3 className=\"table\">User Table</h3>\n      <DataTable\n        value={filteredUsers} // Use currentUsers instead of filteredUsers\n        paginator\n        rows={5}\n        rowsPerPageOptions={[5, 10, 25, 50]}\n        tableStyle={{ minWidth: \"50rem\" }}\n        paginatorTemplate=\"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink\"\n        currentPageReportTemplate=\"{first} to {last} of {totalRecords}\"\n        paginatorLeft={paginatorLeft}\n        paginatorRight={paginatorRight}\n      >\n        <Column\n          sortable\n          style={{ width: \"10%\" }}\n          field=\"id\"\n          header=\"ID\"\n          sortField=\"id\"\n          sortOrder={sortField === \"id\" ? sortOrder : null}\n          onSort={handleSort}\n        ></Column>\n        <Column\n          sortable\n          style={{ width: \"30%\" }}\n          field=\"username\"\n          header=\"Username\"\n          sortField=\"username\"\n          sortOrder={sortField === \"username\" ? sortOrder : null}\n          onSort={handleSort}\n        ></Column>\n        <Column\n          sortable\n          style={{ width: \"10%\" }}\n          field=\"name\"\n          header=\"Name\"\n          sortField=\"name\"\n          sortOrder={sortField === \"name\" ? sortOrder : null}\n          onSort={handleSort}\n        ></Column>\n        <Column\n          sortable\n          style={{ width: \"15%\" }}\n          field=\"email\"\n          header=\"Email\"\n          sortField=\"email\"\n          sortOrder={sortField === \"email\" ? sortOrder : null}\n          onSort={handleSort}\n        ></Column>\n        <Column\n          sortable\n          style={{ width: \"10%\" }}\n          field=\"status\"\n          header=\"Status\"\n        ></Column>\n      </DataTable>\n    </div>\n  );\n};\n\nexport default UsersTable;\n"],"mappings":"gZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,sBAAsB,CAChD,OAASC,MAAM,KAAQ,mBAAmB,CAC1C,OAASC,MAAM,KAAQ,mBAAmB,CAC1C,MAAO,yDAAyD,CAChE,MAAO,yCAAyC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjD,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB,IAAAC,SAAA,CAA0BV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAA0Cf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/CE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IACtC,IAAAG,UAAA,CAAoCnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAAkCvB,QAAQ,CAAC,EAAE,CAAC,CAAAwB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAvCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAAkC3B,QAAQ,CAAC,CAAC,CAAC,CAAA4B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAAtCE,SAAS,CAAAD,WAAA,IAAEE,YAAY,CAAAF,WAAA,IAC9B,IAAAG,WAAA,CAAsC/B,QAAQ,CAAC,CAAC,CAAC,CAAAgC,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAA1CE,WAAW,CAAAD,WAAA,IAAEE,cAAc,CAAAF,WAAA,IAClC,IAAAG,WAAA,CAAuBnC,QAAQ,CAAC,CAAC,CAAC,CAAAoC,WAAA,CAAAxB,cAAA,CAAAuB,WAAA,IAA3BE,YAAY,CAAAD,WAAA,IAEnB,GAAM,CAAAE,aAAa,cAAGhC,IAAA,CAACF,MAAM,EAACmC,IAAI,CAAC,QAAQ,CAACC,IAAI,CAAC,eAAe,CAACC,IAAI,MAAE,CAAC,CACxE,GAAM,CAAAC,cAAc,cAAGpC,IAAA,CAACF,MAAM,EAACmC,IAAI,CAAC,QAAQ,CAACC,IAAI,CAAC,gBAAgB,CAACC,IAAI,MAAE,CAAC,CAC1ExC,SAAS,CAAC,UAAM,CACd,GAAM,CAAA0C,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACO,CAAAC,KAAK,CAAC,QAAQ,CAAC,QAAhCP,QAAQ,CAAAI,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,SACK,CAAAN,QAAQ,CAACS,IAAI,CAAC,CAAC,QAA5BR,IAAI,CAAAG,QAAA,CAAAI,IAAA,CACV3C,QAAQ,CAACoC,IAAI,CAAC,CACdhC,gBAAgB,CAACgC,IAAI,CAAC,CAAC,wBAAAG,QAAA,CAAAM,IAAA,MAAAX,OAAA,GACxB,kBALK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAgB,KAAA,MAAAC,SAAA,OAKd,CAEDlB,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAmB,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAK,CAAK,CAC9B,GAAM,CAAA1C,UAAU,CAAG0C,KAAK,CAACC,MAAM,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CACnD5C,aAAa,CAACD,UAAU,CAAC,CACzB8C,WAAW,CAAC9C,UAAU,CAAC,CACvBa,cAAc,CAAC,CAAC,CAAC,CACnB,CAAC,CAED,GAAM,CAAAkC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIL,KAAK,CAAK,CAC5B,IAAAM,WAAA,CAAyBN,KAAK,CAACO,IAAI,CAA3BC,KAAK,CAAAF,WAAA,CAALE,KAAK,CAAEC,KAAK,CAAAH,WAAA,CAALG,KAAK,CACpB9C,YAAY,CAAC6C,KAAK,CAAC,CACnBzC,YAAY,CAAC0C,KAAK,CAAC,CACnBL,WAAW,CAAC9C,UAAU,CAAEkD,KAAK,CAAEC,KAAK,CAAC,CACrCtC,cAAc,CAAC,CAAC,CAAC,CACnB,CAAC,CAED,GAAM,CAAAiC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAI9C,UAAU,CAAK,CAClC,GAAI,CAAAoD,YAAY,CAAG5D,KAAK,CAAC6D,MAAM,CAAC,SAACC,IAAI,QACnC,CAAAA,IAAI,CAACC,IAAI,CAACV,WAAW,CAAC,CAAC,CAACW,QAAQ,CAACxD,UAAU,CAAC,EAC9C,CAAC,CAED,GAAII,SAAS,CAAE,CACbgD,YAAY,CAACH,IAAI,CAAC,SAACQ,CAAC,CAAEC,CAAC,CAAK,CAC1B,GAAM,CAAAC,MAAM,CAAGF,CAAC,CAACrD,SAAS,CAAC,CAACyC,WAAW,CAAC,CAAC,CACzC,GAAM,CAAAe,MAAM,CAAGF,CAAC,CAACtD,SAAS,CAAC,CAACyC,WAAW,CAAC,CAAC,CACzC,GAAIc,MAAM,CAAGC,MAAM,CAAE,CACnB,MAAO,CAAApD,SAAS,GAAK,CAAC,CAAG,CAAC,CAAC,CAAG,CAAC,CACjC,CACA,GAAImD,MAAM,CAAGC,MAAM,CAAE,CACnB,MAAO,CAAApD,SAAS,GAAK,CAAC,CAAG,CAAC,CAAG,CAAC,CAAC,CACjC,CACA,MAAO,EAAC,CACV,CAAC,CAAC,CACJ,CAEAX,gBAAgB,CAACuD,YAAY,CAAC,CAChC,CAAC,CAED,mBACEjE,KAAA,QAAK0E,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7E,IAAA,OAAI4E,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cACrC3E,KAAA,CAACN,SAAS,EACR+D,KAAK,CAAEhD,aAAe;AAAA,CACtBmE,SAAS,MACTC,IAAI,CAAE,CAAE,CACRC,kBAAkB,CAAE,CAAC,CAAC,CAAE,EAAE,CAAE,EAAE,CAAE,EAAE,CAAE,CACpCC,UAAU,CAAE,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAClCC,iBAAiB,CAAC,4FAA4F,CAC9GC,yBAAyB,CAAC,qCAAqC,CAC/DpD,aAAa,CAAEA,aAAc,CAC7BI,cAAc,CAAEA,cAAe,CAAAyC,QAAA,eAE/B7E,IAAA,CAACH,MAAM,EACLwF,QAAQ,MACRC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CACxBtB,KAAK,CAAC,IAAI,CACVuB,MAAM,CAAC,IAAI,CACXrE,SAAS,CAAC,IAAI,CACdI,SAAS,CAAEJ,SAAS,GAAK,IAAI,CAAGI,SAAS,CAAG,IAAK,CACjDkE,MAAM,CAAE3B,UAAW,CACZ,CAAC,cACV9D,IAAA,CAACH,MAAM,EACLwF,QAAQ,MACRC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CACxBtB,KAAK,CAAC,UAAU,CAChBuB,MAAM,CAAC,UAAU,CACjBrE,SAAS,CAAC,UAAU,CACpBI,SAAS,CAAEJ,SAAS,GAAK,UAAU,CAAGI,SAAS,CAAG,IAAK,CACvDkE,MAAM,CAAE3B,UAAW,CACZ,CAAC,cACV9D,IAAA,CAACH,MAAM,EACLwF,QAAQ,MACRC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CACxBtB,KAAK,CAAC,MAAM,CACZuB,MAAM,CAAC,MAAM,CACbrE,SAAS,CAAC,MAAM,CAChBI,SAAS,CAAEJ,SAAS,GAAK,MAAM,CAAGI,SAAS,CAAG,IAAK,CACnDkE,MAAM,CAAE3B,UAAW,CACZ,CAAC,cACV9D,IAAA,CAACH,MAAM,EACLwF,QAAQ,MACRC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CACxBtB,KAAK,CAAC,OAAO,CACbuB,MAAM,CAAC,OAAO,CACdrE,SAAS,CAAC,OAAO,CACjBI,SAAS,CAAEJ,SAAS,GAAK,OAAO,CAAGI,SAAS,CAAG,IAAK,CACpDkE,MAAM,CAAE3B,UAAW,CACZ,CAAC,cACV9D,IAAA,CAACH,MAAM,EACLwF,QAAQ,MACRC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CACxBtB,KAAK,CAAC,QAAQ,CACduB,MAAM,CAAC,QAAQ,CACR,CAAC,EACD,CAAC,EACT,CAAC,CAEV,CAAC,CAED,cAAe,CAAArF,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}